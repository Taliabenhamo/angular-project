<h1 class="title p-2">
  <i class="bi bi-person-fill"></i> {{ title }}

  <small class="text-secondary"> ({{ customerTotal() }}) </small>
</h1>


<div class="section-bg p-3">
  <div class="d-flex justify-content-end me-5">
    <div>
      <!-- <app-notification (buttonClicked)="notificationClosed($event)" [showNotification]="showNotification"></app-notification> -->
      <button (click)="toggleForm()" class="btn btn-primary ">
        Add Customer
        <i class="bi bi-person-add"></i>
      </button>
    </div>
  </div>

  <div *ngIf="showForm" class="mr-5">
    <form [formGroup]="customerForm" (ngSubmit)="onSubmit()" class="row text-center m-4 ">
      <div class="mb-3 col-2">
        <label for="name" class="form-label"> First Name</label>
        <input formControlName="firstName" type="text" class="form-control" id="firstName" />
      </div>
      
    
    

      <div class="mb-3 col-2">
        <label for="name" class="form-label"> Last Name</label>
        <input formControlName="lastName" type="text" class="form-control" id="lastName" />
      </div>

      <div class="mb-3 col-2">
        <label for="email" class="form-label">Email</label>
        <input formControlName="email" type="email" class="form-control" id="email" />
      </div>

      <div class="mb-3 col-2">
        <label for="phone" class="form-label">Phone</label>
        <input formControlName="phone" type="text" class="form-control" id="phone" />
      </div>
      <div class="mb-3 col-2">
        <label for="address" class="form-label">Address</label>
        <input formControlName="address" type="text" class="form-control" id="address" />
      </div>
      <div class="mt-4 col-2">
        <button [disabled]="customerForm.invalid" type="submit" class="btn btn-primary col-8">
          Add
        </button>
      </div>
      <app-notification (buttonClicked)="notificationClosed($event)" [showNotification]="showNotification"></app-notification>
    </form>
  </div>
  <div class=" container p-4">
    <table class="table mt-4 table-hover">
      <thead>
        <tr>
          <th>Edit</th>
          <th class="align-middle">First Name</th>
          <th class="align-middle">Last Name</th>
          <th class="align-middle">Email</th>
          <th class="align-middle">Phone</th>
          <th class="align-middle">address</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of customers; index as i">
          <td>
            {{ i + 1 }}
            <a class="icon-link text-dark" routerLink="/details/{{customer._id}}"><i class="bi bi-eye-fill m-2"></i>
            </a>
            <a class="icon-link text-dark" routerLink="/update/{{customer._id}}"><i
                class="bi bi-pencil-fill m-2"></i></a>

            <i class="bi bi-trash-fill text-dark m-2" (click)="deletecustomer(customer)"></i>
          </td>

          <td>{{ customer.firstName }}</td>
          <td>{{ customer.lastName }}</td>
          <td>{{ customer.email }}</td>
          <td>{{ customer.phone }}</td>
          <td>{{customer.address}}</td>

        </tr>
      </tbody>
    </table>
  </div>
</div>